import FactoryHeros from "./Project Patterns/FactoryHeros";
import EnumHero from "./Enums/Heros.enum";
cc.Class({
    extends: cc.Component,

    properties: {
        player:{
            default:null,
            type:cc.Node
        },
        enemy:{
            default:null,
            type:cc.Node
        },
        wallPreFab:{
            default:null,
            type:cc.Prefab
        }
    },

    onLoad () {
        const factoryHeros = new FactoryHeros();
        this.player.mask = factoryHeros.getHeros(EnumHero.RANGER)
        var mapa = []
        mapa[0] = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[1] = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[2] = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[3] = [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]
        mapa[4] = [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]
        mapa[5] = [0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0]
        mapa[6] = [0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0]
        mapa[7] = [0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0]
        mapa[8] = [0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0]
        mapa[9] = [0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0]
        mapa[10] = [0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0]
        mapa[11] = [0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[12] = [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[13] = [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[14] = [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[15] = [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[16] = [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[17] = [0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[18] = [0,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0]
        mapa[19] = [0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[20] = [0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[21] = [0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[22] = [0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[23] = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        mapa[24] = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        var x = this.node.parent.x - 240
        var y = this.node.parent.y - 320;
        for(let i = 0; i < 25;i++){
            for(let j = 0; j < 25;j++){
                if(mapa[i][j] == 0){
                    var bloco = cc.instantiate(this.wallPreFab)
                    this.node.addChild(bloco)
                    bloco.setPosition(cc.v2(x,y))
                }
                x +=30
            }
           y +=30
           x = this.node.parent.x - 240
        }
    },

    start () {
        console.log(this.player)
    },

    // update (dt) {},
});
